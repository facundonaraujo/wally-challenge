<page class="auth-page">
  <FlexboxLayout flexDirection="column" [formGroup]="registerForm">
    <label textWrap="true" marginLeft="16" marginTop="12%" marginBottom="7%">
      <FormattedString>
        <span text="Signup" class="auth-title"></span>
      </FormattedString>
    </label>

    <label textWrap="true" marginLeft="16" marginBottom="-10">
      <FormattedString>
        <span text="Nombre" class="input-label"></span>
      </FormattedString>
    </label>
    <TextField
      formControlName="name"
      hint="Ingresa tu nombre"
      secure="false"
      returnKeyType="done"
      autocorrect="false"
      class="input"
    >
    </TextField>
    <label 
      *ngIf="registerForm?.controls?.email?.touched && 
      registerForm?.controls?.email?.errors?.required" 
      marginLeft="16" 
      text="El nombre es requerido" 
      class="error-label"
      textWrap="true"
    ></label>

    <label textWrap="true" marginLeft="16" marginBottom="-10" marginTop="20">
      <FormattedString>
        <span text="Email" class="input-label"></span>
      </FormattedString>
    </label>
    <TextField
      formControlName="email"
      hint="Ingresa tu email"
      secure="false"
      keyboardType="email"
      returnKeyType="done"
      autocorrect="false"
      class="input"
      autocapitalizationType="none"
    >
    </TextField>
    <label 
      *ngIf="registerForm?.controls?.email?.touched && 
      registerForm?.controls?.email?.errors?.required" 
      marginLeft="16" 
      text="El email es requerido" 
      class="error-label"
      textWrap="true"
    ></label>
    <label 
      *ngIf="registerForm?.controls?.email?.errors && 
      registerForm?.controls?.email?.errors?.email && 
      !(registerForm?.controls?.email?.errors?.required)" 
      marginLeft="16" 
      text="Email invalido" 
      class="error-label"
      textWrap="true"
    ></label>

    <label textWrap="true" marginLeft="16" marginBottom="-10" marginTop="20">
      <FormattedString>
        <span text="Contraseña" class="input-label"></span>
      </FormattedString>
    </label>
    <TextField
      formControlName="password"
      hint="Ingresa tu contraseña"
      secure="true"
      returnKeyType="done"
      autocorrect="false"
      autocapitalizationType="none"
      class="input"
    >
    </TextField>
    <label 
      *ngIf="registerForm?.controls?.password?.touched && 
      registerForm?.controls?.password?.errors?.required" 
      marginLeft="16" 
      text="La contraseña es requerida" 
      class="error-label"
      textWrap="true"
    ></label>
    <label 
      *ngIf="registerForm?.controls?.password?.errors && 
      registerForm?.controls?.password?.errors?.minlength && 
      !(registerForm?.controls?.password?.errors?.required)" 
      marginLeft="16" 
      text="La contraseña debe tener mínimo 6 caracteres" 
      class="error-label"
      textWrap="true"
    ></label>

    <button 
      [isEnabled]="!registerForm?.invalid" 
      alignSelf="flex-end" 
      marginTop="6%" 
      width="150" 
      text="Signup" 
      class="auth-button"
      type="submit" 
      (tap)="register(registerForm?.value)"
    ></button>
    
    <label [nsRouterLink]="['/auth/login']" textWrap="true" alignSelf="center" marginTop="8%">
      <FormattedString>
        <span text="Ya tienes una cuenta? " class="text"></span>
        <span text="Inicia Sesión" class="text link"></span>
      </FormattedString>
    </label>
  </FlexboxLayout>
</page>